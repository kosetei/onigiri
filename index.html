<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>おむすび探偵団</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>おむすび探偵団</h1>
        
        <div class="game-info">
            <p>親が選んだ4つのおむすびの種類と順番を当てましょう！</p>
            <p>残り試行回数: <span id="attempts-left">7</span></p>
            <p>現在の試行: <span id="current-attempt">1</span> / 7</p>
        </div>

        <div id="game-result-top" class="game-result-top hidden">
            <h2 id="result-message-top"></h2>
        </div>

        <div class="game-board">
            <div class="secret-onigiri-row" id="secret-onigiri-display">
                <div class="onigiri-placeholder"></div>
                <div class="onigiri-placeholder"></div>
                <div class="onigiri-placeholder"></div>
                <div class="onigiri-placeholder"></div>
            </div>

            <div class="feedback-legend">
                <div class="legend-item">
                    <div class="feedback-icon ocha"></div>
                    <span>お茶: 種類が合っているおむすびの数</span>
                </div>
                <div class="legend-item">
                    <div class="feedback-icon oshinko"></div>
                    <span>おしんこ: 種類と場所の両方が合っているおむすびの数</span>
                </div>
            </div>

            <div class="current-guess">
                <div class="onigiri-selection" id="current-selection">
                    <div class="onigiri-slot" data-index="0"></div>
                    <div class="onigiri-slot" data-index="1"></div>
                    <div class="onigiri-slot" data-index="2"></div>
                    <div class="onigiri-slot" data-index="3"></div>
                </div>
                <div class="feedback-display">
                    <div class="feedback-icon ocha" id="ocha-count">0</div>
                    <div class="feedback-icon oshinko" id="oshinko-count">0</div>
                </div>
            </div>

            <div class="onigiri-options">
                <div class="onigiri-type" data-type="しお"></div>
                <div class="onigiri-type" data-type="うめ"></div>
                <div class="onigiri-type" data-type="さけ"></div>
                <div class="onigiri-type" data-type="こんぶ"></div>
                <div class="onigiri-type" data-type="たらこ"></div>
                <div class="onigiri-type" data-type="ふりかけ"></div>
                <div class="onigiri-type" data-type="かつおぶし"></div>
            </div>

            <div class="controls">
                <button id="submit-guess">予想を送信</button>
                <button id="clear-selection">選択をクリア</button>
                <button id="new-game">新しいゲーム</button>
            </div>

            <div class="history-container" id="history-container">
                <!-- 過去の予想と結果がここに追加されます -->
            </div>
        </div>

        <div id="game-result" class="game-result hidden">
            <h2 id="result-message"></h2>
            <div id="secret-onigiri-reveal" class="secret-reveal">
                <p>親が選んだおむすび:</p>
                <div class="secret-row"></div>
            </div>
            <button id="play-again">もう一度遊ぶ</button>
        </div>

        <div class="rules-container">
            <h2>ゲームのルール</h2>
            <ol>
                <li>コンピューターが7種類のおむすび（しお、うめ、さけ、こんぶ、たらこ、ふりかけ、かつおぶし）の中から4つを選び、順序を決めます。</li>
                <li>プレイヤーはコンピューターが選んだおむすびを予想して4つ並べます。</li>
                <li>予想を送信すると、以下のヒントが表示されます：
                    <ul>
                        <li><span class="ocha-text">お茶</span>: 種類が合っているおむすびの数</li>
                        <li><span class="oshinko-text">おしんこ</span>: 種類と場所の両方が合っているおむすびの数</li>
                    </ul>
                </li>
                <li>ヒントを元に推理し、再度おむすびを4つ並べて予想します。</li>
                <li>7回以内に全てのおむすびの種類と場所を当てればプレイヤーの勝ちです。</li>
            </ol>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>
